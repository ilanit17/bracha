×‘×•×•×“××™. ×¨×™×›×–×ª×™ ×¢×‘×•×¨×š ××ª ×›×œ ×”×§×•×“ ×©×œ ×”×’×¨×¡×” ×”×¡×•×¤×™×ª ×•×”××œ××”.

×”×ª×”×œ×™×š ×”×•× ×¤×©×•×˜:

×¦×•×¨ ××ª ××‘× ×” ×”×ª×™×§×™×•×ª ×•×”×§×‘×¦×™× ×›×¤×™ ×©××•×¡×‘×¨ ××ª×—×ª ×œ×›×•×ª×¨×ª.

×”×¢×ª×§ ×•×”×“×‘×§ ××ª ×”×ª×•×›×Ÿ ×©×œ ×›×œ ×§×˜×¢ ×§×•×“ ×œ×§×•×‘×¥ ×”××ª××™× ×œ×•.

××‘× ×” ×”×¤×¨×•×™×§×˜ ×”×¡×•×¤×™

×•×“× ×©×™×© ×œ×š ××ª ××‘× ×” ×”×ª×™×§×™×•×ª ×•×”×§×‘×¦×™× ×”×‘× ×œ×¤× ×™ ×©××ª×” ××ª×—×™×œ ×œ×”×“×‘×™×§ ××ª ×”×§×•×“:

Generated code
/ (×ª×™×§×™×™×ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×™×ª)
â”œâ”€â”€ boards/             (×ª×™×§×™×™×” ×¨×™×§×” ×©×ª×›×™×œ ××ª ×”×œ×•×—×•×ª)
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ style.css
â”‚   â””â”€â”€ script.js
â”œâ”€â”€ package.json
â””â”€â”€ server.js

1. ×§×•×“ ×¢×‘×•×¨ ×”×§×•×‘×¥ package.json

×–×”×• ×§×•×‘×¥ ×”×ª×¦×•×¨×” ×©×œ ×”×¤×¨×•×™×§×˜. ×”×•× ××•××¨ ×œ×¡×‘×™×‘×ª ×”×¨×™×¦×” (×›××• Glitch ××• Node.js ××§×•××™) ××™×œ×• ×—×‘×™×œ×•×ª ×œ×”×ª×§×™×Ÿ ×•××™×š ×œ×”×¨×™×¥ ××ª ×”×¤×¨×•×™×§×˜.

×”×¢×ª×§ ×•×”×“×‘×§ ××ª ×”×§×•×“ ×”×‘× ×œ×§×•×‘×¥ package.json:

Generated json
{
  "name": "blessing-board",
  "version": "1.0.0",
  "description": "A collaborative blessing board for students",
  "main": "server.js",
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {
    "express": "^4.18.2"
  },
  "engines": {
    "node": "16.x"
  },
  "keywords": [
    "node",
    "express",
    "collaboration"
  ],
  "author": "",
  "license": "ISC"
}
IGNORE_WHEN_COPYING_START
content_copy
download
Use code with caution.
Json
IGNORE_WHEN_COPYING_END
2. ×§×•×“ ×¢×‘×•×¨ ×”×§×•×‘×¥ server.js

×–×”×• ×§×•×“ ×”×©×¨×ª (Backend) ×©×× ×”×œ ××ª ×›×œ ×”×œ×•×’×™×§×”: ×©××™×¨×ª ×”×‘×¨×›×•×ª, ×™×¦×™×¨×ª ×œ×•×—×•×ª ×—×“×©×™×, ×•××™×¤×•×¡ ×œ×•×—×•×ª.

×”×¢×ª×§ ×•×”×“×‘×§ ××ª ×”×§×•×“ ×”×‘× ×œ×§×•×‘×¥ server.js:

Generated javascript
const express = require('express');
const fs = require('fs');
const path = require('path');

const app = express();
const PORT = process.env.PORT || 3000;
const BOARDS_DIR = path.join(__dirname, 'boards');

// ×•×“× ×©×”×ª×™×§×™×™×” boards ×§×™×™××ª
if (!fs.existsSync(BOARDS_DIR)) {
    fs.mkdirSync(BOARDS_DIR);
}

app.use(express.json());
app.use(express.static('public'));

// ×¤×•× ×§×¦×™×” ×œ×§×‘×œ×ª × ×ª×™×‘ ×”×§×•×‘×¥ ×©×œ ×œ×•×— ×¡×¤×¦×™×¤×™
const getBoardFilePath = (studentName) => {
    // ×× ×¨××œ ××ª ×©× ×”×§×•×‘×¥ ×›×“×™ ×œ×× ×•×¢ ×ª×•×•×™× ×‘×¢×™×™×ª×™×™×
    const safeFileName = encodeURIComponent(studentName) + '.json';
    return path.join(BOARDS_DIR, safeFileName);
};

// --- API Endpoints ---

// GET /api/messages?student=×©×_×”×ª×œ××™×“
// ××—×–×™×¨ ×‘×¨×›×•×ª ×¢×‘×•×¨ ×ª×œ××™×“ ×¡×¤×¦×™×¤×™
app.get('/api/messages', (req, res) => {
    const studentName = req.query.student;
    if (!studentName) {
        return res.status(400).json({ error: 'Student name is required' });
    }

    const filePath = getBoardFilePath(studentName);

    if (!fs.existsSync(filePath)) {
        return res.json([]); // ×× ×”×œ×•×— ×¢×“×™×™×Ÿ ×œ× ×§×™×™×, ×”×—×–×¨ ××¢×¨×š ×¨×™×§
    }

    const data = fs.readFileSync(filePath);
    res.json(data.length > 0 ? JSON.parse(data) : []);
});

// POST /api/messages?student=×©×_×”×ª×œ××™×“
// ×©×•××¨ ×‘×¨×›×” ×—×“×©×” ×‘×œ×•×— ×©×œ ×ª×œ××™×“ ×¡×¤×¦×™×¤×™
app.post('/api/messages', (req, res) => {
    const studentName = req.query.student;
    if (!studentName) {
        return res.status(400).json({ error: 'Student name is required' });
    }

    const filePath = getBoardFilePath(studentName);
    let messages = [];

    if (fs.existsSync(filePath)) {
        const data = fs.readFileSync(filePath);
        messages = data.length > 0 ? JSON.parse(data) : [];
    }
    
    const { author, text, color } = req.body;
    if (!text) {
        return res.status(400).json({ error: 'Message text cannot be empty' });
    }

    const newMessage = {
        id: Date.now(),
        author: author || '',
        text: text,
        color: color || '#ffffe0',
        timestamp: new Date().toISOString()
    };

    messages.push(newMessage);
    fs.writeFileSync(filePath, JSON.stringify(messages, null, 2));

    res.status(201).json(newMessage);
});

// POST /api/reset?student=×©×_×”×ª×œ××™×“&secret=×§×•×“_×¡×•×“×™
// ×××¤×¡ (××•×—×§) ×œ×•×— ×©×œ ×ª×œ××™×“ ×¡×¤×¦×™×¤×™ - ×¤×¢×•×œ×” ×œ×× ×”×œ ×‘×œ×‘×“!
app.post('/api/reset', (req, res) => {
    const { student, secret } = req.query;

    // ×× ×’× ×•×Ÿ ××‘×˜×—×” ×¤×©×•×˜. ×©× ×” ××ª ×”×§×•×“ ×”×¡×•×“×™ ×× ×ª×¨×¦×”!
    if (secret !== 'start-over-2024') {
        return res.status(403).send('Forbidden: Invalid secret code');
    }

    if (!student) {
        return res.status(400).send('Student name is required for reset');
    }

    const filePath = getBoardFilePath(student);
    if (fs.existsSync(filePath)) {
        fs.unlinkSync(filePath); // ××•×—×§ ××ª ×”×§×•×‘×¥
        console.log(`Board for ${student} has been reset.`);
        res.status(200).send(`Board for ${student} has been successfully reset.`);
    } else {
        res.status(404).send('Board not found.');
    }
});

app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
    console.log("To create a new board, add details to the URL, for example:");
    console.log(`/server-address/?student=Daniel&teacher=Yossi&class=V2`);
});
IGNORE_WHEN_COPYING_START
content_copy
download
Use code with caution.
JavaScript
IGNORE_WHEN_COPYING_END
3. ×§×•×“ ×¢×‘×•×¨ ×”×§×•×‘×¥ public/index.html

×–×”×• ×©×œ×“ ×”-HTML ×©×œ ×”×“×£ ×©×”××©×ª××©×™× ×™×¨××•.

×”×¢×ª×§ ×•×”×“×‘×§ ××ª ×”×§×•×“ ×”×‘× ×œ×§×•×‘×¥ public/index.html:

Generated html
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×œ×•×— ×‘×¨×›×•×ª ×©×™×ª×•×¤×™</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <h1 id="main-title">×œ×•×— ×‘×¨×›×•×ª</h1>
        <p id="sub-title">××”××•×¨×” ×•×”×›×™×ª×”</p>
    </header>

    <main>
        <section id="board" class="board-container">
            <!-- ×”×‘×¨×›×•×ª ×™×•×¦×’×• ×›××Ÿ ×¢×œ ×™×“×™ JavaScript -->
        </section>

        <section class="form-section">
            <h2>×”×•×¡×£ ×‘×¨×›×” ××©×œ×š:</h2>
            <form id="message-form">
                <input type="text" id="author-input" placeholder="×”×©× ×©×œ×š (×œ× ×—×•×‘×”)">
                <textarea id="text-input" placeholder="×›×ª×•×‘ ×›××Ÿ ××ª ×”×‘×¨×›×” ×©×œ×š..." required></textarea>
                
                <div class="color-picker-wrapper">
                    <label for="color-input">×‘×—×¨ ×¦×‘×¢ ×¨×§×¢ ×œ×‘×¨×›×”:</label>
                    <input type="color" id="color-input" value="#ffffe0">
                </div>

                <button type="submit">×©×œ×— ×‘×¨×›×”</button>
            </form>
        </section>
    </main>
    
    <script src="script.js"></script>
</body>
</html>
IGNORE_WHEN_COPYING_START
content_copy
download
Use code with caution.
Html
IGNORE_WHEN_COPYING_END
4. ×§×•×“ ×¢×‘×•×¨ ×”×§×•×‘×¥ public/style.css

×–×”×• ×§×•×“ ×”-CSS ×©××¢×¦×‘ ××ª ×”×“×£ ×•× ×•×ª×Ÿ ×œ×• ××¨××” ×©×œ ×œ×•×— ×¤×ª×§×™×•×ª, ×•×’× ××ª××™× ××•×ª×• ×œ×”×“×¤×¡×”.

×”×¢×ª×§ ×•×”×“×‘×§ ××ª ×”×§×•×“ ×”×‘× ×œ×§×•×‘×¥ public/style.css:

Generated css
body {
    font-family: 'Heebo', sans-serif;
    background-color: #f0f4f8;
    color: #333;
    margin: 0;
    padding: 20px;
    text-align: center;
}

header {
    margin-bottom: 40px;
}

h1 {
    color: #005a9c;
}

.board-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
}

.message-card {
    border: 1px solid #ccc;
    box-shadow: 5px 5px 7px rgba(0,0,0,0.1);
    padding: 15px;
    width: 250px;
    min-height: 150px;
    text-align: right;
    transition: transform 0.2s;
    display: flex;
    flex-direction: column;
}

.message-card:hover {
    transform: scale(1.05);
}

.message-card h3 {
    margin-top: 0;
    color: #d9534f;
    border-bottom: 1px solid #eee;
    padding-bottom: 5px;
}

.message-card p {
    font-size: 1rem;
    white-space: pre-wrap; /* ×©×•××¨ ×¢×œ ××¢×‘×¨×™ ×©×•×¨×” */
    flex-grow: 1; /* ×’×•×¨× ×œ×˜×§×¡×˜ ×œ××œ× ××ª ×”××§×•× */
}

.form-section {
    max-width: 500px;
    margin: 0 auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

#message-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

#message-form input[type="text"],
#message-form textarea {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1rem;
    font-family: inherit;
}

#message-form textarea {
    min-height: 100px;
    resize: vertical;
}

#message-form button {
    padding: 12px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.2s;
}

#message-form button:hover {
    background-color: #0056b3;
}

.color-picker-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px;
    border: 1px solid #eee;
    border-radius: 4px;
}

#color-input {
    width: 50px;
    height: 30px;
    border: none;
    background-color: transparent;
    cursor: pointer;
}

/* ×¢×™×¦×•×‘ ×œ×”×“×¤×¡×” */
@media print {
    body {
        background-color: #fff;
        padding: 0;
        margin: 20px;
    }
    .form-section, header p#sub-title, #message-form button {
        display: none; /* ×”×¡×ª×¨ ××ª ×”×˜×•×¤×¡ ×•×”××œ×× ×˜×™× ×”×œ× ×¨×œ×•×•× ×˜×™×™× ×‘×”×“×¤×¡×” */
    }
    header h1 {
        margin-bottom: 20px;
    }
    .board-container {
        display: block; /* ×©× ×” ×œ×¤×¨×™×¡×” ×©×œ ×‘×œ×•×§×™× ×¨×’×™×œ×™× ×œ×”×“×¤×¡×” ×˜×•×‘×” ×™×•×ª×¨ */
    }
    .message-card {
        box-shadow: none;
        border: 1px solid #000;
        page-break-inside: avoid; /* × ×¡×” ×œ×× ×•×¢ ×—×™×ª×•×š ×©×œ ×¤×ª×§×™×ª ×‘×™×Ÿ ×¢××•×“×™× */
        margin-bottom: 20px;
        width: auto;
    }
}
IGNORE_WHEN_COPYING_START
content_copy
download
Use code with caution.
Css
IGNORE_WHEN_COPYING_END
5. ×§×•×“ ×¢×‘×•×¨ ×”×§×•×‘×¥ public/script.js

×–×”×• ×§×•×“ ×”-JavaScript (Frontend) ×©×¨×¥ ×‘×“×¤×“×¤×Ÿ ×©×œ ×”××©×ª××©. ×”×•× ××—×¨××™ ×¢×œ ×§×¨×™××ª ×”×¤×¨××˜×¨×™× ××”-URL, ×”×¦×’×ª ×”×‘×¨×›×•×ª, ×•×©×œ×™×—×ª ×‘×¨×›×•×ª ×—×“×©×•×ª ×œ×©×¨×ª.

×”×¢×ª×§ ×•×”×“×‘×§ ××ª ×”×§×•×“ ×”×‘× ×œ×§×•×‘×¥ public/script.js:

Generated javascript
document.addEventListener('DOMContentLoaded', () => {
    // ×§×¨×™××ª ×¤×¨××˜×¨×™× ××”-URL
    const urlParams = new URLSearchParams(window.location.search);
    const studentName = urlParams.get('student');
    const teacherName = urlParams.get('teacher');
    const className = urlParams.get('class');

    // ×× ××™×Ÿ ×©× ×ª×œ××™×“ ×‘-URL, ×”×¦×’ ×”×•×“×¢×ª ×©×’×™××” ×•×”×¤×¡×§ ××ª ×”×¨×™×¦×”
    if (!studentName) {
        document.body.innerHTML = `
            <div style="text-align: center; padding: 50px; font-size: 1.2rem; font-family: 'Heebo', sans-serif;">
                <h1>×©×’×™××”: ×œ×•×— ×œ× × ××¦×</h1>
                <p>×›×“×™ ×œ×™×¦×•×¨ ×œ×•×— ×‘×¨×›×•×ª, ×™×© ×œ×”×•×¡×™×£ ××ª ×¤×¨×˜×™ ×”×ª×œ××™×“ ×œ×›×ª×•×‘×ª ×”×“×¤×“×¤×Ÿ.</p>
                <p>×œ×“×•×’××”: <strong>${window.location.origin}?student=×“× ×™××œ&teacher=×™×•×¡×™&class=×•2</strong></p>
            </div>
        `;
        return;
    }
    
    // ×¢×“×›×•×Ÿ ×”×›×•×ª×¨×•×ª ×‘×“×£ ×¢× ×”××™×“×¢ ××”-URL
    const mainTitle = document.getElementById('main-title');
    const subTitle = document.getElementById('sub-title');
    mainTitle.textContent = `×œ×•×— ×‘×¨×›×•×ª ×¤×¨×™×“×” ×: ${studentName} ğŸˆ`;
    if (teacherName || className) {
        subTitle.innerHTML = `××”××•×¨×”: ${teacherName || ''} ×•×›×™×ª×”: ${className || ''}<br>×›×•×œ× ×• × ×ª×’×¢×’×¢ ×•× ××—×œ ×œ×š ×”××•×Ÿ ×”×¦×œ×—×”!`;
    } else {
        subTitle.textContent = "×××—×œ×™× ×œ×š ×”××•×Ÿ ×”×¦×œ×—×” ×‘×”××©×š ×”×“×¨×š!";
    }

    const board = document.getElementById('board');
    const form = document.getElementById('message-form');
    const authorInput = document.getElementById('author-input');
    const textInput = document.getElementById('text-input');
    const colorInput = document.getElementById('color-input');

    const createMessageElement = (message) => {
        const card = document.createElement('div');
        card.className = 'message-card';
        card.style.backgroundColor = message.color;

        if (message.author) {
            const authorEl = document.createElement('h3');
            authorEl.textContent = message.author;
            card.appendChild(authorEl);
        } else {
            const authorEl = document.createElement('h3');
            authorEl.textContent = "××× ×™ ×‘××”×‘×” â¤ï¸";
            authorEl.style.fontStyle = 'italic';
            authorEl.style.color = '#555';
            card.appendChild(authorEl);
        }
        
        const textEl = document.createElement('p');
        textEl.textContent = message.text;
        card.appendChild(textEl);
        
        return card;
    };

    const fetchAndDisplayMessages = async () => {
        try {
            const response = await fetch(`/api/messages?student=${encodeURIComponent(studentName)}`);
            const messages = await response.json();
            
            board.innerHTML = '';
            messages.sort((a, b) => a.id - b.id); // ×•×“× ×©×”×‘×¨×›×•×ª ××¡×•×“×¨×•×ª ×œ×¤×™ ×¡×“×¨ ×›×¨×•× ×•×œ×•×’×™
            messages.forEach(message => {
                const messageElement = createMessageElement(message);
                board.appendChild(messageElement);
            });
        } catch (error) {
            console.error('Error fetching messages:', error);
        }
    };

    form.addEventListener('submit', async (event) => {
        event.preventDefault();

        const author = authorInput.value.trim();
        const text = textInput.value.trim();
        const color = colorInput.value;

        if (!text) {
            alert('× × ×œ××œ× ××ª ×ª×•×›×Ÿ ×”×‘×¨×›×”');
            return;
        }

        const newMessage = { author, text, color };

        try {
            const response = await fetch(`/api/messages?student=${encodeURIComponent(studentName)}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(newMessage),
            });

            if (response.ok) {
                authorInput.value = '';
                textInput.value = '';
                fetchAndDisplayMessages();
            } else {
                alert('××™×¨×¢×” ×©×’×™××” ×‘×©×œ×™×—×ª ×”×‘×¨×›×”.');
            }
        } catch (error) {
            console.error('Error submitting message:', error);
        }
    });

    fetchAndDisplayMessages();
});
IGNORE_WHEN_COPYING_START
content_copy
download
Use code with caution.
JavaScript
IGNORE_WHEN_COPYING_END

×–×” ×”×›×œ! ×›×¢×ª ×™×© ×œ×š ××ª ×›×œ ×”×§×•×“ ×”×“×¨×•×©. ×ª×•×›×œ ×œ×”×¨×™×¥ ××•×ª×• ××§×•××™×ª ××• ×œ×”×¢×œ×•×ª ××•×ª×• ×œ×©×™×¨×•×ª ××™×¨×•×— ×›××• Glitch.
